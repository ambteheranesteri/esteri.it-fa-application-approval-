<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <title>Italy Humanitarian Visa Case Management System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">

    <style>
        :root {
            --main-blue: #00479A; /* Deep Official Blue */
            --light-blue: #0056b3;
            --secondary-color: #A0A0A0; /* Grey for formal contrast */
            --danger-color: #CC0000; /* Official Red for alerts/logout */
            --border-radius: 6px;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f7f6;
            margin: 0;
            padding: 0;
        }

        .official-header {
            background-color: var(--main-blue);
            color: white;
            padding: 15px 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1300px;
            margin: 0 auto;
        }

        .logo-section {
            display: flex;
            align-items: center;
        }

        .logo {
            height: 60px;
            margin-right: 15px;
            /* In a real scenario, this would be the official Italian seal/flag logo */
        }

        .title-section h1 {
            margin: 0;
            font-size: 1.8em;
            font-weight: 600;
        }

        .title-section p {
            margin: 0;
            font-size: 0.9em;
            opacity: 0.8;
        }

        .contact-info {
            font-size: 0.85em;
            text-align: right;
        }
        
        /* Main Dashboard Layout */
        #dashboard-layout {
            display: flex;
            min-height: calc(100vh - 120px); /* Adjust based on header/footer height */
            max-width: 1300px;
            margin: 20px auto;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.05);
            background-color: white;
        }
        
        /* Sidebar Styles */
        .sidebar {
            width: 300px;
            background-color: #f8f9fa; /* Light grey/off-white for contrast */
            padding: 20px 0;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.05);
            overflow-y: auto;
        }

        .applicant-info {
            padding: 0 20px 20px;
            text-align: center;
            border-bottom: 1px solid #eee;
            margin-bottom: 15px;
        }

        .menu-section-title {
            color: var(--main-blue);
            font-size: 0.9em;
            font-weight: 700;
            padding: 10px 20px;
            margin-top: 15px;
            text-transform: uppercase;
            border-left: 3px solid var(--main-blue);
        }

        .dashboard-button {
            width: 100%;
            padding: 12px 20px;
            text-align: left;
            border: none;
            background: none;
            color: #333;
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
            font-size: 1em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .dashboard-button:hover, .dashboard-button.active {
            background-color: var(--light-blue);
            color: white;
        }
        
        .dashboard-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            color: #777;
            background-color: #f1f1f1;
        }

        /* Content Area */
        .dashboard-content {
            flex-grow: 1;
            padding: 30px;
            background-color: white;
        }

        /* Login and Loading Styles (from your original code) */
        #login-page {
            max-width: 500px;
            margin: 50px auto;
            padding: 30px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        }
        /* ... (Add other styles like .official-button, .form-container, .loading-spinner, etc., to your style.css) */
        
    </style>
</head>
<body>
    
    <div id="loading-overlay" class="hidden">
        <div class="loading-spinner">
            <img src="loading.gif" alt="Processing..." id="loading-gif">
        </div>
    </div>

    <header class="official-header">
        <div class="header-content">
            <div class="logo-section">
                <img src="logo.png" alt="Italian Government Logo" class="logo">
            </div>
            <div class="title-section">
                <h1>Italy Humanitarian Visa Case Management System</h1>
                <p>Ministry of Foreign Affairs and International Cooperation</p>
            </div>
            <div class="contact-info">
                <p>Embassy of Italy in Tehran</p>
                <p>Tel: $\text{+98 21 6672 6955}$</p>
                <p>E-mail: $\text{segreteria.teheran@esteri.it}$</p>
            </div>
        </div>
    </header>

    <main id="main-content">
        <section id="login-page" class="page-content">
            <div class="form-container">
                <h2>Secure Applicant Login</h2>
                <form id="login-form">
                    <div class="form-group">
                        <label for="username">User Name:</label>
                        <input type="text" id="username" required value="SAYED_JAMSHID--">
                    </div>
                    <div class="form-group">
                        <label for="password">Password:</label>
                        <input type="password" id="password" required value="IT197531842----">
                    </div>
                    <div class="form-group">
                        <label for="ceu-number-login">CEU Number:</label>
                        <input type="text" id="ceu-number-login" required value="64511169-------">
                    </div>
                    <button type="submit" class="official-button">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </button>
                    <p id="login-error" class="error-message hidden">Invalid Credentials. Please check User Name, Password, and CEU Number.</p>
                </form>
            </div>
        </section>

        <section id="dashboard-layout" class="hidden">
            
            <aside class="sidebar">
                <div class="applicant-info">
                    <i class="fas fa-user-circle fa-3x" style="color: var(--main-blue);"></i>
                    <h3>SAYED JAMSHID HUSSAINI</h3>
                    <p>Case ID: $\text{ITTEH/2025/5601612473}$</p>
                </div>
                
                <div class="menu-section-title">Application Submission</div>
                <button id="application-form-btn" class="dashboard-button active"><i class="fas fa-file-alt"></i> Application Form</button>
                <button id="upload-passport-btn" class="dashboard-button"><i class="fas fa-passport"></i> Upload Passport</button>
                <button id="upload-photo-btn" class="dashboard-button"><i class="fas fa-camera"></i> Upload Photo</button>
                <button id="upload-identity-btn" class="dashboard-button"><i class="fas fa-id-card"></i> Upload Identity Docs</button>
                
                <div class="menu-section-title">Supporting Evidence</div>
                <button id="unhcr-letter-btn" class="dashboard-button"><i class="fas fa-hands-helping"></i> View UNHCR REG Letter</button>
                <button id="upload-danger-btn" class="dashboard-button"><i class="fas fa-exclamation-triangle"></i> Upload Proof of Danger</button>
                <button id="upload-residence-btn" class="dashboard-button"><i class="fas fa-home"></i> Upload Residence Docs</button>
                <button id="upload-education-btn" class="dashboard-button"><i class="fas fa-graduation-cap"></i> Upload Educational/Job Docs</button>
                
                <div class="menu-section-title">Interview Management</div>
                <button id="appointment-details-btn" class="dashboard-button"><i class="fas fa-calendar-alt"></i> Appointment Details</button>
                <button id="payment-confirm-btn" class="dashboard-button"><i class="fas fa-euro-sign"></i> Payment Fee Confirmation</button>
                <button id="upload-finger-btn" class="dashboard-button"><i class="fas fa-fingerprint"></i> Upload Finger Prints</button>
                <button id="track-status-btn" class="dashboard-button"><i class="fas fa-cogs"></i> Track Application Status</button>

                <div class="menu-section-title">Final Decision</div>
                <button id="final-checklist-btn" class="dashboard-button"><i class="fas fa-clipboard-check"></i> Final Review Checklist</button>
                <button id="interview-guide-btn" class="dashboard-button"><i class="fas fa-book"></i> Interview Guide & FAQs</button>
                <button id="final-result-btn" class="dashboard-button"><i class="fas fa-gavel"></i> **Final Result**</button>
                <button id="download-visa-btn" class="dashboard-button"><i class="fas fa-file-download"></i> Download Visa Letter</button>

                <div style="padding: 20px;">
                    <button id="logout-btn" class="official-button" style="background-color: var(--danger-color); width: 100%;">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </aside>

            <section class="dashboard-content">
                <h2>Welcome to Your Humanitarian Visa Dashboard</h2>
                <p>This secure portal allows you to manage your application, upload required documentation, track your status, and view your final interview result. Please ensure all documents are uploaded by the specified deadlines.</p>
                
                <div id="content-placeholder">
                    <div class="alert-box primary">
                        <p><strong>URGENT ACTION REQUIRED:</strong> Please ensure the payment of $\text{EUR 230}$ is completed through international banking channels and the receipt is uploaded via the **Payment Fee Confirmation** button before **20 October 2025**.</p>
                    </div>
                </div>
            </section>
        </section>
    </main>

    <footer class="official-footer">
        </footer>

    <script src="data.js"></script>
    <script src="script.js"></script>

    <script>
        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Show Loading Animation (Mimicking an API call/server delay)
            document.getElementById('loading-overlay').classList.remove('hidden');

            // Simulate Login Delay
            setTimeout(() => {
                document.getElementById('loading-overlay').classList.add('hidden');
                
                // --- Simple Mock Login Logic ---
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;
                
                // Use the data from your letter as the 'correct' credentials
                if (username === 'SAYED_JAMSHID--' && password === 'IT197531842----') {
                    // Successful Login: Hide login, Show dashboard
                    document.getElementById('login-page').classList.add('hidden');
                    document.getElementById('dashboard-layout').classList.remove('hidden');
                    document.getElementById('login-error').classList.add('hidden');
                } else {
                    // Failed Login
                    document.getElementById('login-error').classList.remove('hidden');
                }
            }, 2000); // 2 second delay for the animation
        });

        document.getElementById('logout-btn').addEventListener('click', function() {
            // Show Loading Animation for Logout
            document.getElementById('loading-overlay').classList.remove('hidden');

            // Simulate Logout Delay
            setTimeout(() => {
                document.getElementById('loading-overlay').classList.add('hidden');
                
                // Logout: Hide dashboard, Show login page
                document.getElementById('dashboard-layout').classList.add('hidden');
                document.getElementById('login-page').classList.remove('hidden');
            }, 1000); // 1 second delay
        });

        // Add event listeners for sidebar buttons to change the active state and load content
        document.querySelectorAll('.dashboard-button').forEach(button => {
            button.addEventListener('click', function() {
                // Remove active class from all buttons
                document.querySelectorAll('.dashboard-button').forEach(btn => btn.classList.remove('active'));
                
                // Add active class to the clicked button
                this.classList.add('active');
                
                // Logic to load specific content into #content-placeholder would go here
                document.querySelector('.dashboard-content h2').textContent = this.textContent.trim();
                // Simulating content change
                document.getElementById('content-placeholder').innerHTML = `<p>Loading content for **${this.textContent.trim()}**...</p>`;
            });
        });
    </script>
</body>
</html>
